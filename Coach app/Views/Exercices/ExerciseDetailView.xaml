<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Coach_app.ViewModels.Exercises"
             x:Class="Coach_app.Views.Exercises.ExerciseDetailView"
             Title="{Binding Title}">

    <Grid RowDefinitions="*, Auto">
        <ScrollView Grid.Row="0" Padding="20">
            <VerticalStackLayout Spacing="15">

                <Frame Padding="15" CornerRadius="10">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Général" FontAttributes="Bold" TextColor="{StaticResource Primary}"/>
                        <Entry Placeholder="Nom de l'exercice (ex: Suspensions Max)" Text="{Binding Name}" FontSize="18"/>
                        <Label Text="Catégorie" FontSize="12" TextColor="Gray"/>
                        <Picker ItemsSource="{Binding Categories}" SelectedItem="{Binding SelectedCategory}"/>
                    </VerticalStackLayout>
                </Frame>

                <Frame Padding="15" CornerRadius="10">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Détails" FontAttributes="Bold" TextColor="{StaticResource Primary}"/>

                        <Label Text="But de l'exercice" FontSize="12" TextColor="Gray"/>
                        <Entry Placeholder="ex: Gagner en force max" Text="{Binding Goal}"/>

                        <Label Text="Équipement nécessaire" FontSize="12" TextColor="Gray"/>
                        <Entry Placeholder="ex: Poutre, Lest" Text="{Binding Equipment}"/>

                        <Label Text="Description / Consignes" FontSize="12" TextColor="Gray"/>
                        <Editor Placeholder="ex: 7s suspension, 3min repos..." Text="{Binding Description}" HeightRequest="100"/>

                        <Label Text="Commentaires / Astuces Coach" FontSize="12" TextColor="Gray"/>
                        <Editor Placeholder="ex: Attention à la rétroversion du bassin..." Text="{Binding Comments}" HeightRequest="60"/>
                    </VerticalStackLayout>
                </Frame>

                <Frame Padding="15" CornerRadius="10">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Média" FontAttributes="Bold" TextColor="{StaticResource Primary}"/>
                        <Label Text="Lien Vidéo ou Image (URL)" FontSize="12" TextColor="Gray"/>
                        <Entry Placeholder="https://youtube.com/..." Text="{Binding MediaUrl}"/>
                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </ScrollView>

        <Grid Grid.Row="1" ColumnDefinitions="*, *, *" ColumnSpacing="10" Padding="20" BackgroundColor="{AppThemeBinding Light=White, Dark=Black}">
            <Button Grid.Column="0" Text="Archiver" Command="{Binding DeleteCommand}" BackgroundColor="DarkRed" TextColor="White"/>
            <Button Grid.Column="1" Text="Annuler" Command="{Binding CancelCommand}" BackgroundColor="Transparent" TextColor="Gray" BorderColor="Gray" BorderWidth="1"/>
            <Button Grid.Column="2" Text="Enregistrer" Command="{Binding SaveCommand}" BackgroundColor="{StaticResource Primary}" TextColor="White"/>
        </Grid>
    </Grid>
</ContentPage>